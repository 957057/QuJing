<!DOCTYPE html>
<html>
    <head>
        <title>曲境 - 手动操作指导</title>
        <link href="//netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
        <link rel="icon" href="data:image/png;base64,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AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////////////B////AH///gA//+AAB/+AAAH+AAAAfAAAADwAAAA4AAAAHAAAAD4AAAB/wAAB//AAD//4AA//+AAf//wAP///AH///8P/////////5////+f////n////////////////////////////8=">

        <script type="text/javascript" src="https://lib.sinaapp.com/js/jquery/2.0.2/jquery-2.0.2.min.js"></script>
    </head>
    <body>

        <div class="headerCard">
            <h2>手动操作指导</h2>
        </div>

        <div class="bodyMain">
            <table id="table-app" border="1" align="center">
                <tr style="height: 40px;">
                    <th style="border: 2px solid; width: 60px;">图标</th>
                    <th style="border: 2px solid;">应用名</th>
                    <th style="border: 2px solid;">包名</th>
                    <th style="border: 2px solid;">进程ID</th>
                    <th style="border: 2px solid;">下一步</th>
                </tr>
                <#list packages as pk>
                <tr>
                    <td align="center"><img  class="icon" src="${pk["IconBase64"]}"></td>
                    <td>${pk["DisplayName"]}</td>
                    <td>${pk["PackageName"]}</td>
                    <td>${pk["ProcessID"]}</td>
                    <td>${pk["nextStep"]}</td>
                </tr>
                </#list>
            </table>
            <div style="margin: 60px 20%;padding-bottom: 40px;">
                <h2 style="margin: 10px 0">下一步该做什么？</h2>
                <div>
                    <div class="question">如果下一步显示“配置成功”</div>
                    <div class="answer">点击“配置成功”进入到该应用的控制页面</div>
                    <div class="question">如果下一步显示“adb forward......”</div>
                    <div class="answer">应用启动了，但是你还没有进行端口转发，在cmd中执行这句命令。然后刷新页面。</div>
                    <div class="answer">如果你按照上述做法做了端口转发，但是依然显示adb forward.....，那么你需要Kill掉这个进程，重启一下APP，再刷新页面。</div>
                    <div class="answer">还是不行的话，就来<a href="https://github.com/Mocha-L/QuJing" target="_blank" >曲境</a>提一下issue吧。</div>
                    <div class="question">如果下一步显示“APP未打开，请手动打开应用”</div>
                    <div class="answer">应用还未启动，请手动在手机（或模拟器）中启动应用。然后刷新页面。</div>
                </div>
            </div>
        </div>
        <footer style="margin: 30px auto 5px auto;text-align: center;color: #ccc;font-size: 13px;">
            <p><a href="https://github.com/Mocha-L/QuJing" target="_blank" >曲境</a>由<a href="https://github.com/Mocha-L/" target="_blank" >Mocha-Lee</a>倾<i class="heart" style="color: #FF3B30;font-family: FontAwesome;font-style: normal;"></i>奉献</p>
            <p>欢迎关注微信公众号“燕幕自安”（知识星球:爬虫三十六计）与我沟通交流</p>
            <style type="text/css">
                .heart:before {
                    content: "\f004";
                }
            </style>
        </footer>
    </body>
    <script type="text/javascript">
        $.noConflict();
        jQuery(document).ready(function() {
            jQuery('#table-app tr').each(function(i){
                if(i!=0){
                    var pid = jQuery(jQuery(this).children('td')[3]).text();
                    if(pid.length > 0){
                        jQuery.ajax({
                            type: 'GET',
                            url: 'http://127.0.0.1:'+pid+'/status',
                            cache:false,
                            dataType:'text',
                            timeout: 1000,
                            success: function (data) {
                                if("OK"==data){
                                    jQuery(jQuery(jQuery('#table-app tr')[i]).children('td')[4]).html("<a href='http://127.0.0.1:"+pid+"'/ target='_blank'>配置成功，点击进入</a>");
                                }
                            },
                            error: function (data) {
                                <!--jQuery(jQuery(this).children('td')[4]).html();-->
                                jQuery(jQuery(jQuery('#table-app tr')[i]).children('td')[4]).html("adb forward tcp:"+pid+" tcp:"+pid+"");
                            },

                        })
                    }

                }
            });
        });
        setTimeout(function(){location.reload()},10000);
        </script>
    <style type="text/css">
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Helvetica Neue', 'PingFang SC', 'Microsoft YaHei', 'Source Han Sans SC', 'Noto Sans CJK SC', 'WenQuanYi Micro Hei', sans-serif;
            font-size: 15px;
            color: #1A1A1A;
            background: #F6F6F6;
            -webkit-tap-highlight-color: rgba(26, 26, 26, 0);
        }

        .right{position:fixed; right:0;}

        img.icon{
            height: 20px;
            width: 20px;
        }

        table{
            border-collapse:collapse;
            border:none;
        }

        .bodyMain {
            width: 80%;
            margin: 0 auto;
            background: #FFF;
            padding: 20px;
            border-bottom: 2px solid #ccc;
        }


        .headerCard {
            margin-bottom: 10px;
            background: #FFF;
            overflow: hidden;
            border-radius: 2px;
            box-shadow: 0 1px 3px rgba(26, 26, 26, 0.1);
            box-sizing: border-box;
            transition: box-shadow 300ms;
            text-align: center;
        }

        .question {
            margin: 20px 0 10px 0;
            font-size: 18px;
            font-weight: bold
        }

        .answer {
            margin: 10px 0 20px 0;
            font-size: 15px;
            color: #666;
        }
    </style>
</html>